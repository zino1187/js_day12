<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>이퀄라이저</title>
<style>
#stage{
	width:600px;
	height:500px;
	margin:auto;
}
</style>
<script src="./Rect.js"></script>
<script src="../lib/common.js"></script>
<script>

var result=getRandomByRange(5,8);
document.write(result);

var stage;
var color=["red","orange","yellow","green","blue","navy","purple"];
var rectArray=[];

function init(){
	stage=document.getElementById("stage");
	createRect();
	gameLoop();
	setTarget();
}
function createRect(){
	for(var i=0;i<10;i++){
		var c=getRandom(color.length);
		var t=getRandomByRange(20,501);
		rectArray[i]= new Rect(stage, color[c], t);
	}
}
//오직, 현재 문서에 등장한 사각형의 목표지점인 targetH 값을 
//랜덤하게 지정한다!!!
function setTarget(){
	rect.targetH=getRandomByRange(20,501);
	setTimeout("setTarget()",300);
}
function gameLoop(){
	for(var i=0;i<rectArray.length;i++){
		rectArray[i].move();
	}
	setTimeout("gameLoop()",10);
}
addEventListener("load",function(){
	init();
});
</script>
</head>
<body>
	<div id="stage"></div>
</body>
</html>
